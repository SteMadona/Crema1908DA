---
title: "J. Cerasani"
format:
  html:
    theme: darkly
    css: styles.css
---

## Centrocampista


# Statistiche All Time 

```{r, echo=FALSE, message=FALSE, warning=FALSE}
source("../code/ReportUnoNew.R")
source("../code/ReportDueNew.R")
source("../code/Temi_grafici.R")
source("../code/player_wheel.R")
source("../code/run_dynamics_new.R")
source("../code/phy_vs_tech_new.R")


ctx <- readRDS(here::here("data", "derived", "ft_context.rds"))

df          <- ctx$df_ft
cph         <- ctx$cph_ft
ctx_session <- ctx$ctx_session_ft
ctx_pf      <- ctx$ctx_pf_ft
ctx_matches <- ctx$ctx_matches_ft
pcts        <- ctx$pcts_ft

scatter_data <- ctx$scatter_ft

df_dynamic_hid_match <- ctx$run_ctx_ft$df_dynamic_hid_match


player_sel <- "J. Cerasani"
plot_phy_tec_player(player_sel, scatter_data = scatter_data)



report_fisico(player_sel, cph)
```


::: {.panel-tabset}
# Full Sessions
```{r, echo=FALSE, message=FALSE, warning=FALSE}
report_tecnico(player_sel, ctx_session)
```

# Partita Finale Allenamento
```{r, echo=FALSE, message=FALSE, warning=FALSE}
report_tecnico(player_sel, ctx_pf)
```

# Partite Ufficiali
```{r, echo=FALSE, message=FALSE, warning=FALSE}
report_tecnico(player_sel, ctx_matches)
```

:::

```{r}
#| echo: false
#| message: false
#| warning: false
#| fig-format: png
#| fig-dpi: 320
#| fig-bg: "#0b0b0b"
#| fig-width: 7
#| fig-height: 7
#| out-width: "85%"

plot_player_wheel(pcts, player_sel)


```

# Trend di forma

```{r, echo=FALSE, message=FALSE, warning=FALSE}
trend_fisico(player_sel, cph)

```

# Trend tecnico

```{r, echo=FALSE, message=FALSE, warning=FALSE}
trend_tecnico_indici(player_sel, ctx_session)
trend_tecnico_possesso(player_sel, ctx_session)
trend_tecnico_piede(player_sel, ctx_session)

```

# Dinamica di corsa

::: {.panel-tabset}
# Contact Duration
```{r, echo=FALSE, message=FALSE, warning=FALSE}
plot_hid_box_kpi(df_dynamic_hid_match, player_sel, metric = "HCD")

```

# Flight Duration
```{r, echo=FALSE, message=FALSE, warning=FALSE}
plot_hid_box_kpi(df_dynamic_hid_match, player_sel, metric = "HFD")

```

# Stride Length
```{r, echo=FALSE, message=FALSE, warning=FALSE}
plot_hid_box_kpi(df_dynamic_hid_match, player_sel, metric = "HSL")


```


:::

## Valori anomali

::: {.panel-tabset}
# Contact Duration
```{r, echo=FALSE, message=FALSE, warning=FALSE}
gt_hid_outlier_table(df_dynamic_hid_match, player_sel, metric = "HCD", top_n = 20)

```

# Flight Duration
```{r, echo=FALSE, message=FALSE, warning=FALSE}
gt_hid_outlier_table(df_dynamic_hid_match, player_sel, metric = "HFD", top_n = 20)

```

# Stride Length
```{r, echo=FALSE, message=FALSE, warning=FALSE}
gt_hid_outlier_table(df_dynamic_hid_match, player_sel, metric = "HSL", top_n = 20)

```
:::

